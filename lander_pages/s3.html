<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Never Pay a Power Bill Again</title><link rel="icon" href="https://media.swipepages.com/6311141a9098da0011114615%2Ffavicon%2FBetter-Home-Upgrades-Logo.png"><script async="" src="./s3_files/fbevents.js.download"></script>
 

 <meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href=""><style>a,body,div,h1,html,img,p,span{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1}*{-webkit-box-sizing:border-box}a,a:hover,a:visited{text-decoration:none;cursor:pointer}body{overflow-x:hidden;-webkit-font-smoothing:antialiased}p{margin-bottom:20px}p:last-child{margin-bottom:0}img{max-width:100%;border:0;-ms-interpolation-mode:bicubic;vertical-align:middle;height:auto}.x:after,.x:before{content:" ";display:table}.x:after{clear:both}a{color:#1b86f1}.y{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.AB,.z{position:absolute;top:0;left:0;width:100%;height:100%}.AB{z-index:0;overflow:hidden}.BB{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.CB{position:relative;z-index:2}.DB{position:absolute;top:0;left:0;width:100%;height:100%}.EB{position:relative;padding:0 10px;z-index:2;margin-bottom:25px}.EB,.FB{margin-left:auto;margin-right:auto}.FB{width:100%;max-width:1180px}.GB{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 -25px;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.HB>.EB>.GB{-webkit-box-align:stretch;-ms-flex-align:stretch;-ms-grid-row-align:stretch;align-items:stretch}.IB>.EB>.GB{margin-left:-25px;margin-right:-25px}.JB>.EB>.GB{margin-left:-10px;margin-right:-10px}.KB{padding:0 15px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex}.HB>.EB>.GB>.KB{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.tatsu-column-inner{width:100%;position:relative;border-style:solid;border-color:transparent;-webkit-transition:-webkit-box-shadow .3s ease,-webkit-transform .3s ease;transition:-webkit-box-shadow .3s ease,-webkit-transform .3s ease;-o-transition:box-shadow .3s ease,transform .3s ease;transition:box-shadow .3s ease,transform .3s ease;transition:box-shadow .3s ease,transform .3s ease,-webkit-box-shadow .3s ease,-webkit-transform .3s ease;padding:10px}.LB{width:100%}.HB>.EB>.GB>.KB>.tatsu-column-inner{display:-webkit-box;display:-ms-flexbox;display:flex}.HB>.EB>.GB>.MB>.tatsu-column-inner{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.IB>.EB>.GB>.KB{padding:0 15px}.NB>.EB>.GB>.OB{padding:0}.OB{width:100%}.LB{position:relative;z-index:2}.PB{z-index:0;overflow:hidden}.PB,.QB{position:absolute;top:0;left:0;width:100%;height:100%}.RB{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.tatsu-module{margin-bottom:50px}.SB{-webkit-box-sizing:border-box;box-sizing:border-box}.TB{text-align:center}@media only screen and (max-width:1366px){.GB{-ms-flex-wrap:wrap;flex-wrap:wrap}}@media only screen and (min-width:1025px) and (max-width:1220px){.FB{max-width:calc(100% - 60px)}}@media only screen and (min-width:960px) and (max-width:1024px){.FB{max-width:900px}}@media only screen and (min-width:768px) and (max-width:959px){.FB{max-width:740px}}@media only screen and (max-width:767px){.FB{max-width:90vw}.EB{padding:0;margin-bottom:45px}.UB{margin-bottom:0}.NB .EB .GB{-webkit-box-orient:vertical;-webkit-box-direction:normal;margin-left:0;margin-right:0}.KB{margin:0 0 45px}.NB>.EB>.GB>.KB,.NB>.EB>.GB>.KB>.tatsu-column-inner{padding:0}.y .NB:last-child>.EB>.GB>.KB>.tatsu-column-inner{margin-bottom:0}}@media only screen and (min-width:480px) and (max-width:767px){.FB{max-width:440px}}.VB:after,.VB:before{content:" ";display:table}.VB:after{clear:both}strong{font-weight:600}html{overflow-x:hidden}.tatsu-single-image-inner{overflow:hidden;border-style:solid}.UB{margin-bottom:0}.y{width:100%}*{box-sizing:border-box}.WB{margin-bottom:30px}.XB{margin:0 0 30px}.XB:last-child{margin-right:0}.YB{text-decoration:none;border-color:transparent}.YB>div{text-align:center}.XB .ZB{cursor:pointer;overflow:hidden}.aB,.YB,.ZB{position:relative;display:inline-block}.YB{padding:15px 36px}.XB .aB:after,.XB .YB:after,.XB .YB:before,.XB .ZB:after,.XB .ZB:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.XB .YB{background-clip:padding-box}.ZB:after,.ZB:before{border-style:solid;border-color:transparent;box-sizing:border-box}.XB .aB span{display:inline-block}.XB .aB:after{content:attr(data-text);font:inherit}.XB .aB:after,.XB .aB span,.XB .YB:after,.XB .YB:before,.XB .ZB:after,.XB .ZB:before{transition:all .3s linear}.XB .aB span,.XB .YB:before,.XB .ZB:before{opacity:1}.XB .aB:after,.XB .YB:after,.XB .ZB:after,.XB .ZB:hover .aB span,.XB .ZB:hover .YB:before,.XB .ZB:hover:before{opacity:0}.XB .ZB:hover .aB:after,.XB .ZB:hover .YB:after,.XB .ZB:hover:after{opacity:1}.XB.bB .ZB{display:block}.aB{z-index:1}.XB.cB .YB,.XB.cB .YB:after,.XB.cB .YB:before,.XB.cB .ZB,.XB.cB .ZB:after,.XB.cB .ZB:before{border-radius:32px}.YB.dB{padding:18px 0;width:100%;box-sizing:border-box;text-align:center;display:block}.eB{width:100%;line-height:0;margin:0 0 30px}.tatsu-image-lazyload img{opacity:0;transition:opacity .3s ease}.tatsu-single-image-inner{display:inline-block;position:relative}.eB a,.eB img{position:absolute;top:0;left:0;width:100%;height:100%}.eB img{box-sizing:border-box;border:0 solid transparent;object-fit:cover}.eB.TB{text-align:center}@media only screen and (max-width:767px){.eB.tatsu-module .tatsu-single-image-inner{max-width:100%;transform:translateZ(0)}}@media only screen and (max-width:767px){.SB{width:100%}}.countdown-section{line-height:1}.be-start-animation{-o-transition:-o-transform .7s,-o-scale .7s,opacity .7s;-ms-transition:-ms-transform .7s,-ms-scale .7s,opacity .7s;-moz-transition:-moz-transform .7s,-moz-scale .7s,opacity .7s;-webkit-transition:-webkit-transform .7s,-webkit-scale .7s,opacity .7s;transition:transform .7s,scale .7s,opacity .7s}.be-col{padding:0;margin:0}.be-grid.be-grid-initialized{visibility:visible}.be-col{flex:0 0 auto;padding:0 15px;width:33.33%;box-sizing:border-box;margin-bottom:30px}.be-lazy-load{opacity:0;transition:opacity .5s}.be-lazy-loaded{opacity:1}.be-col-hide{opacity:0;transform:translate3d(0,100px,0)}.be-col-visible{opacity:1;transform:translateZ(0);transition:opacity .5s}.be-embed-placeholder{position:relative}.be-embed-placeholder:before{content:"";padding-top:56.25%;display:block}span.tatsu-form-range-tooltip.tatsu-form-range-show{display:inline-block}.countdown-section,.tatsu-form-validate-show{display:block}.tatsu-single-image-inner amp-img img{object-fit:cover}.fB{margin:0 0 20px}.gB{margin:0}.open.tatsu-mobile-menu{height:auto}.hB{margin-bottom:0}.tatsu-amp-bg-video video{object-fit:cover}@media only screen and (max-width:1377px) {}@media only screen and (min-width:768px) and (max-width: 1024px) {}@media only screen and (max-width: 767px) {}.A{font-family:"Inter",sans-serif;}.B{font-weight:700;}.C{font-weight:600;}.D{font-size:26px;}.E{line-height:1.25em;}.F{line-height:1.5em;}.G{text-transform:none;letter-spacing:0px;}.H{text-transform:uppercase;letter-spacing:1px;}.I{color:#182433;}.J{color:rgba(60,72,84,0.8);}.K{font-size:55px;}.L{font-size:40px;}.M{font-weight:500;}.N{font-size:34px;}.O{font-size:14px;line-height:1em;color:#ffffff;}.P{font-size:20px;}.Q{font-size:18px;}.R{font-size:13px;line-height:1.2em;}.S{font-weight:400;font-size:17px;}.a{mix-blend-mode:normal;}.b{margin:0px 0px 15px 0px;}.c{transform:translate3d(0px,0px, 0);}.d{margin:0px 0px 130px 0px;}.e{padding-bottom:56.272401433691755%;}.f{padding:0px 0px 0px 0px;}.g{line-height:1.3em;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,'Helvetica Neue',sans-serif;text-transform:none;font-weight:400;letter-spacing:0;font-size:12px;}.h{fill:#ffffff;}.i{margin:20px 0px 9px 0px;}.j{width:57.107%;max-width:none;}.k{padding:1px;}.l{background-image:url(https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/shutterstock_96369704.png);}.m{margin:0px 0px 8px 0px;}.W{background-repeat:no-repeat;background-attachment:scroll;background-position:top left;background-size:cover;}.X{color:#ffffff;}.Y{text-align:center;}.Z{width:100%;}.n:after{color:#1B68E9;}.o:after{border-width:1px;}.p:before{background:#1B68E9;border-width:1px;border-image:none;border-color:#1B68E9;}@media only screen and (max-width:1377px) {.q{padding:0px 0px 0px 0px;}.r{transform:translate3d(0px,0px, 0);}}@media only screen and (min-width:768px) and (max-width: 1024px) {.s{padding:0px 0px 0px 0px;}.t{transform:translate3d(0px,0px, 0);}}@media only screen and (max-width: 767px) {.T{font-size:42px;}.U{font-size:36px;}.V{font-size:30px;}.u{padding:0px 0px 0px 0px;}.v{margin:0px 0px 36px 0px;}.w{transform:translate3d(0px,0px, 0);}}@font-face {
                font-family: 'Inter';
                src: url('https://assets.swipepages.com/fonts/inter/regular/Inter-Regular.woff') format('woff'), url('https://assets.swipepages.com/fonts/inter/regular/Inter-Regular.eot?#iefix') format('embedded-opentype'),  url('https://assets.swipepages.com/fonts/inter/regular/Inter-Regular.otf')  format('opentype'),
                           url('https://assets.swipepages.com/fonts/inter/regular/Inter-Regular.ttf')  format('truetype'), url('https://assets.swipepages.com/fonts/inter/regular/Inter-Regular.svg#Inter-Regular') format('svg');
                font-weight: 400;
                font-style: normal;
                font-display: swap;
              }@font-face {
                font-family: 'Inter';
                src: url('https://assets.swipepages.com/fonts/inter/semibold/Inter-SemiBold.woff') format('woff'), url('https://assets.swipepages.com/fonts/inter/semibold/Inter-SemiBold.eot?#iefix') format('embedded-opentype'),  url('https://assets.swipepages.com/fonts/inter/semibold/Inter-SemiBold.otf')  format('opentype'),
                           url('https://assets.swipepages.com/fonts/inter/semibold/Inter-SemiBold.ttf')  format('truetype'), url('https://assets.swipepages.com/fonts/inter/semibold/Inter-SemiBold.svg#Inter-SemiBold') format('svg');
                font-weight: 600;
                font-style: normal;
                font-display: swap;
              }@font-face {
                font-family: 'Inter';
                src: url('https://assets.swipepages.com/fonts/inter/bold/Inter-Bold.woff') format('woff'), url('https://assets.swipepages.com/fonts/inter/bold/Inter-Bold.eot?#iefix') format('embedded-opentype'),  url('https://assets.swipepages.com/fonts/inter/bold/Inter-Bold.otf')  format('opentype'),
                           url('https://assets.swipepages.com/fonts/inter/bold/Inter-Bold.ttf')  format('truetype'), url('https://assets.swipepages.com/fonts/inter/bold/Inter-Bold.svg#Inter-Blod') format('svg');
                font-weight: 700;
                font-style: normal;
                font-display: swap;
              }@font-face {
                font-family: 'Inter';
                src: url('https://assets.swipepages.com/fonts/inter/medium/Inter-Medium.woff') format('woff'), url('https://assets.swipepages.com/fonts/inter/medium/Inter-Medium.eot?#iefix') format('embedded-opentype'),  url('https://assets.swipepages.com/fonts/inter/medium/Inter-Medium.otf')  format('opentype'),
                           url('https://assets.swipepages.com/fonts/inter/medium/Inter-Medium.ttf')  format('truetype'), url('https://assets.swipepages.com/fonts/inter/medium/Inter-Medium.svg#Inter-Medium') format('svg');
                font-weight: 500;
                font-style: normal;
                font-display: swap;
              }</style><script type="text/javascript" async="" src="./s3_files/jquery-ui.min.js.download"></script></head><body class="A F G J S"><div class="tatsu-NUDEX_rlVL y VB tatsu-section-offset"><div class="BB VB f"><div class="tatsu-section-pad-inner"><div class="CB"><div class="NB be-preview VB tatsu-HhLhHmsLI2 IB FB HB JB"><div class="EB UB Z"><div class="GB"><div class="KB hB VB tatsu-column-no-bg MB tatsu-mrI4n89WJ OB Z r t w"><div class="tatsu-column-inner gradientClass"><div class="LB"><div class="RB q s u"><div class="tatsu-module tatsu-C5BlxjUZZ h1 fB tatsu-title-wrap-h1 Y i"><h1 class="tatsu-title gB A B E G I K Z T">Homeowners are getting paid to go solar!</h1></div><div class="tatsu-module tatsu-C_YbczfM3 tatsu-module WB m"><div class="SB tatsu-align-left x Y Z"><p><span style="font-size: 24px; color: #000000;"><strong>• Up to $2000 back</strong></span></p><p><span style="font-size: 24px; color: #000000;"><strong>• 2 minutes to qualify</strong></span></p><p><span style="font-size: 24px; color: #000000;"><strong>• $0 down</strong></span></p></div></div><div class="eB tatsu-module tatsu-XJzICUICc TB tatsu-image-lazyload tatsu-XJzICUICc b c"><div class="tatsu-single-image-inner j" style="background-color: rgba(0, 0, 0, 0);"><div class="tatsu-single-image-padding-wrap e"></div><a href="https://www.andd56trk.com/8LJN3/73HB78C/" target="_blank"><img data-srcset="https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-150.jpg 150w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-300.jpg 300w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-500.jpg 500w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-750.jpg 750w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-1000.jpg 1000w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground.jpg 1116w" sizes="(max-width: 767px) 57.107vw,(max-width: 1024px) 57.107vw,(max-width: 1377px) 662.4412px, 662.4412px" alt="" data-src="https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground.jpg" data-extension=".jpg" data-webp="1" srcset="https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-150.webp 150w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-300.webp 300w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-500.webp 500w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-750.webp 750w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground-1000.webp 1000w,https://media.swipepages.com/2022/9/630e0e7f088f2c00106c2227/playground.webp 1116w" src="./s3_files/playground.webp" style="opacity: 1;"></a></div></div><div class="tatsu-module XB bB cB tatsu-OORr79DzO hB none A C H O Y d v"><div class="ZB k o p"><a class="tatsu-shortcode YB dB bg-animation-none left-icon" target="_blank" href="https://www.andd56trk.com/8LJN3/73HB78C/"><div><span class="aB n" data-text="See if you qualify"><span class="default X">See if you qualify</span></span></div></a></div></div></div></div><div class="PB"><div class="QB"></div></div></div></div></div></div></div></div></div></div><div class="AB"><div class="z W l"></div></div><div class="DB tatsu-section-overlay a"></div></div><input type="hidden" id="swipe-pages-variant" value="6311141a9098da0011114617"> <input type="hidden" id="swipe-pages-page" value="6311141a9098da0011114615"> <input type="hidden" id="swipe-pages-account" value="62ead4cc5d443b001181332b"><script type="text/javascript" src="./s3_files/jquery.min.js.download"></script>
    	
    <script type="text/javascript" src="./s3_files/asyncloader.min.js.download"></script><script type="text/javascript" src="./s3_files/helpers.min.js.download"></script><script type="text/javascript">tatsuFrontendConfig = {
            apiBaseUrl: "https://app.swipepages.com/api",
            domain: "https://app.swipepages.com",
            asyncScripts: {"anime":"https://scripts.swipepages.com/js/vendor/anime.min.js","asyncloader":"https://scripts.swipepages.com/js/vendor/asyncloader.min.js","begrid":"https://scripts.swipepages.com/js/vendor/begrid.min.js","countdown":"https://scripts.swipepages.com/js/vendor/countdown.min.js","countTo":"https://scripts.swipepages.com/js/vendor/countTo.min.js","exitIntent":"https://scripts.swipepages.com/js/vendor/exitIntent.min.js","fitvids":"https://scripts.swipepages.com/js/vendor/fitvids.min.js","flickity":"https://scripts.swipepages.com/js/vendor/flickity.min.js","isotope":"https://scripts.swipepages.com/js/vendor/isotope.min.js","jquery-ui":"https://scripts.swipepages.com/js/vendor/jquery-ui.min.js","magnificpopup":"https://scripts.swipepages.com/js/vendor/magnificpopup.min.js","swipe":"https://scripts.swipepages.com/js/vendor/swipe.min.js","tatsuCarousel":"https://scripts.swipepages.com/js/vendor/tatsuCarousel.min.js?ver=1.0.1","tatsuColumnParallax":"https://scripts.swipepages.com/js/vendor/tatsuColumnParallax.min.js","tatsuParallax":"https://scripts.swipepages.com/js/vendor/tatsuParallax.min.js","webfont":"https://scripts.swipepages.com/js/vendor/webfont.min.js"},
            gmapsAPIKey:"",
            goals: {"formSubmission":true,"links":["https://www.andd56trk.com/8LJN3/73HB78C/"],"scrollDistance":null,"timeSpent":null,"linkClicks":true},
            
            
            
            
            
        }</script><script type="text/javascript" src="./s3_files/tatsu.min.js.download"></script><script async="" type="text/javascript" src="./s3_files/analytics.min.js.download"></script> <script type="text/javascript" id="ipl4t" data-controller="snippets--predefined-templates--fbq-uuid-to-sub-five-controller">
    !function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
            n.callMethod ?
                n.callMethod.apply(n, arguments) : n.queue.push(arguments)
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s)
    }(window, document, 'script',
        ' https://connect.facebook.net/en_US/fbevents.js');
 
    (function () {
        try {
            var rewriteDOM = function () {
                Promise.resolve().then(function () {
                    var uuidGen = function () {
                        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>
                            (
                                c ^
                                (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))
                            ).toString(16)
                        );
                    };
                    var uuid = uuidGen();
                    var options = {
                        external_id: uuid
                    }
                    if (typeof fbq != 'undefined' && fbq) {
                        fbq('init', '866439084502730', options);
                        fbq('track', 'PageView', options);
                    } else {
                        console.log('[params rewriting] no fbq pixel source to init');
                    }
                    var addParamsToUrl = function (url) {
                        return params =>
                            url + (url.indexOf("?") !== -1 ? "&" : "?") + params.substr(1);
                    };
 
                    var leadFormComponents = document.querySelectorAll("[data-controller=lead-forms--component]");
                    var pageLinks = document.querySelectorAll("a");
                    var forms = document.querySelectorAll("form");
                    var answers = document.querySelectorAll(".button.answer[onclick]")
                    var redirectableEl = document.querySelectorAll("[data-redirect]");
                    var newTabRedirectableEl = document.querySelectorAll("[data-new-tab-redirect]");
		    var nread =  document.querySelectorAll("[data-controller=link-redirect]");

 
                    console.log('leadFormComponents', leadFormComponents)
                    console.log('forms', forms)
                    window.addEventListener('DOMContentLoaded', (event) => {
                        console.log('DOM fully loaded and parsed');
                        console.log("dom ready leadform", document.querySelectorAll("[data-controller=lead-forms--component]"))
			});

		
                    Array.from(leadFormComponents).forEach(leadFormComponent => {
                        var submitRedirectAttr = 'data-lead-forms--component-submit-redirect-url-value'
                        var popupRedirectAttr = 'data-lead-forms--component-submit-popup-url-value'
                        var redirectLink = leadFormComponent.getAttribute(submitRedirectAttr)
                        var popupRedirect = leadFormComponent.getAttribute(popupRedirectAttr)
                        if (redirectLink) leadFormComponent.setAttribute(submitRedirectAttr, addParamsToUrl(redirectLink)("&sub5=" + uuid));
                        if (popupRedirect) leadFormComponent.setAttribute(popupRedirectAttr, addParamsToUrl(popupRedirect)("&sub5=" + uuid));
                    })
                    Array.from(forms).forEach(form => {
                        var redirect_link = form.getAttribute('redirect_link')
                        var new_tab_redirect_link = form.getAttribute('new_tab_redirect_link')
                        if (redirect_link) form.setAttribute('redirect_link', addParamsToUrl(redirect_link)("&sub5=" + uuid));
                        if (new_tab_redirect_link) form.setAttribute('new_tab_redirect_link', addParamsToUrl(new_tab_redirect_link)("&sub5=" + uuid));
                    })
                    Array.from(redirectableEl).forEach(form => {
                        var redirect_link = form.getAttribute('data-redirect')
                        if (redirect_link) form.setAttribute('data-redirect', addParamsToUrl(redirect_link)("&sub5=" + uuid));
									    })
                    Array.from(nread).forEach(form => {
                        var redirect_link = form.getAttribute('data-link-redirect-current-tab-url-value')
                        if (redirect_link) form.setAttribute('data-link-redirect-current-tab-url-value', addParamsToUrl(redirect_link)("&sub5=" + uuid));
                    })									    
                    Array.from(newTabRedirectableEl).forEach(form => {
                        var new_tab_redirect_link = form.getAttribute('data-new-tab-redirect')
                        if (new_tab_redirect_link) form.setAttribute('data-new-tab-redirect', addParamsToUrl(new_tab_redirect_link)("&sub5=" + uuid));
                    })
                    var extractUrlFromHandler = (clickHandlerStr) => {
                        return clickHandlerStr.slice(clickHandlerStr.indexOf('https'), clickHandlerStr.lastIndexOf("'"));
                    }
                    var extractEverythingBeforeUrl = (clickHandlerStr) => {
                        return clickHandlerStr.slice(0, clickHandlerStr.indexOf('https'))
                    }
                    var extractEverythingAfterUrl = (clickHandlerStr) => {
                        return clickHandlerStr.slice(clickHandlerStr.lastIndexOf("'"), clickHandlerStr.length)
                    }
                    var formatNewHandler = (oldHandlerStr, url) => {
                        return `${extractEverythingBeforeUrl(oldHandlerStr)}${url}${extractEverythingAfterUrl(oldHandlerStr)}`
                    }
                    Array.from(answers).forEach(answer => {
                        var clickHandlerStr = answer.getAttribute("onclick")
                        if (extractUrlFromHandler(clickHandlerStr)) {
                            parsedUrl = addParamsToUrl(extractUrlFromHandler(clickHandlerStr))("&sub5=" + uuid)
                            answer.setAttribute('onclick', formatNewHandler(clickHandlerStr, parsedUrl))
                        }
                    })
                    Array.from(pageLinks).forEach(link => {
                        var href = link.href;
                        if (href) link.href = addParamsToUrl(href)("&sub5=" + uuid);
                    });
 
                    function getMetaValue(name) {
                        const element = document?.head?.querySelector(`meta[name="${name}"]`)
                        return element?.getAttribute("content")
                    }
 
                    function saveToLS(key, value) {
                        return new Promise((resolve, reject) => {
                            try {
                                localStorage.setItem(key, JSON.stringify(value))
                                const results = JSON.parse(localStorage.getItem(key))
                                resolve(results)
                            } catch (error) {
                                reject(error)
                            }
                        })
                    }
 
                    saveToLS("fb_sub_five", uuid).then(() => {
                        window.dispatchEvent(new Event("storage"))
                        console.log('teststorage')
                    })
                });
            }
            if (document && document.readyState && document.readyState === "complete") {
                rewriteDOM()
            } else {
                window.addEventListener("DOMContentLoaded", () => {
                    rewriteDOM()
                });
            }
        } catch (e) {
            console.log('[params rewriting] ERROR', e)
        }
    }())
</script>
	
<script type='text/javascript'>
    Promise.resolve().then(function() {
        var addParamsToUrl = function(url) {
            return params =>
                url + (url.indexOf("?") !== -1 ? "&" : "?") + params.substr(1);
        };
 
        var addCurrentParamsToUrl = function (url) {
          const currentParams = window.location.search
          return addParamsToUrl(url)(currentParams)
        }
 
        var leadFormComponents = document.querySelectorAll("[data-controller=lead-forms--component]");
        var pageLinks = document.querySelectorAll("a");
        var forms = document.querySelectorAll("form");
        var answers = document.querySelectorAll(".button.answer[onclick]")
        var redirectableEl = document.querySelectorAll("[data-redirect]");
        var newTabRedirectableEl = document.querySelectorAll("[data-new-tab-redirect]");
 
        var setParams = (currentUrl) => addCurrentParamsToUrl(currentUrl);
        Array.from(pageLinks).forEach(link => {
            var href = link.href;
            link.href = setParams(href);
        });
        Array.from(leadFormComponents).forEach(leadFormComponent => {
            var submitRedirectAttr = 'data-lead-forms--component-submit-redirect-url-value'
            var popupRedirectAttr = 'data-lead-forms--component-submit-popup-url-value'
            var redirectLink = leadFormComponent.getAttribute(submitRedirectAttr)
            var popupRedirect = leadFormComponent.getAttribute(popupRedirectAttr)
            if (redirectLink) leadFormComponent.setAttribute(submitRedirectAttr, setParams(redirectLink));
            if (popupRedirect) leadFormComponent.setAttribute(popupRedirectAttr, setParams(popupRedirect));
        })
        Array.from(forms).forEach(form => {
            var redirectLink = form.getAttribute('redirect_link')
            var newTabRedirectLink = form.getAttribute('new_tab_redirect_link')
            if (redirectLink) form.setAttribute('redirect_link', setParams(redirectLink));
            if (newTabRedirectLink) form.setAttribute('new_tab_redirect_link', setParams(newTabRedirectLink));
        })
        Array.from(redirectableEl).forEach(form => {
            var redirectLink = form.getAttribute('data-redirect')
            if (redirectLink) form.setAttribute('data-redirect', setParams(redirectLink));
        })
        Array.from(newTabRedirectableEl).forEach(form => {
            var newTabRedirectLink = form.getAttribute('data-new-tab-redirect')
            if (newTabRedirectLink) form.setAttribute('data-new-tab-redirect', setParams(newTabRedirectLink));
        })
        var extractUrlFromHandler = (clickHandlerStr) => {
            return clickHandlerStr.slice(clickHandlerStr.indexOf('https'), clickHandlerStr.lastIndexOf("'"));
        }
        var extractEverythingBeforeUrl = (clickHandlerStr) => {
            return clickHandlerStr.slice(0, clickHandlerStr.indexOf('https'))
        }
        var extractEverythingAfterUrl = (clickHandlerStr) => {
            return clickHandlerStr.slice(clickHandlerStr.lastIndexOf("'"), clickHandlerStr.length)
        }
        var formatNewHandler = (oldHandlerStr, url) => {
            return `${extractEverythingBeforeUrl(oldHandlerStr)}${url}${extractEverythingAfterUrl(oldHandlerStr)}`
        }
        Array.from(answers).forEach(answer => {
            var clickHandlerStr = answer.getAttribute("onclick")
            if (extractUrlFromHandler(clickHandlerStr)) {
                var parsedUrl = setParams(clickHandlerStr)
                answer.setAttribute('onclick', formatNewHandler(clickHandlerStr, parsedUrl))
            }
        })
 
    });
</script></body></html>
